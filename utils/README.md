Useful Development Utilities
==================================

## `demo`

### Usage

    ./demo: Visualize how the simulation box is tiled in ASCII diagram
    
    Usage: ./demo [OPTION]
       --grid-size		-g	i,j,k			(e.g: 100,100,100)
       --tile-size		-t	it,jt,kt/kp		(e.g: 20t,20t,20t or 10t,10t,10p)
       --tile-height	-h	halfTimesteps		(e.g: 18)
       --dump		-d	dump plan for debugging	(default: no)
    
    Note: Parallelogram tiling uses suffix "p", trapezoid tiling uses suffix "t".
    Note: Make sure the grid size is not too large, otherwise the ASCII diagram won't fit in your terminal window.

### Example

    $ ./demo -g 100,100,100 -t 20t,20t,20p -h 18

    tiling for dimension i:
    00000000000AAAAAAAAAAAAAAAAAAAA111BBBBBBBBBBBBBBBBBBBB222CCCCCCCCCCCCCCCCCCCC333DDDDDDDDDDDDDDDDDDD!
    000000000000AAAAAAAAAAAAAAAAAAA1111BBBBBBBBBBBBBBBBBBB2222CCCCCCCCCCCCCCCCCCC3333DDDDDDDDDDDDDDDDDDD
    000000000000AAAAAAAAAAAAAAAAAA11111BBBBBBBBBBBBBBBBBB22222CCCCCCCCCCCCCCCCCC33333DDDDDDDDDDDDDDDDDD!
    0000000000000AAAAAAAAAAAAAAAAA111111BBBBBBBBBBBBBBBBB222222CCCCCCCCCCCCCCCCC333333DDDDDDDDDDDDDDDDDD
    0000000000000AAAAAAAAAAAAAAAA1111111BBBBBBBBBBBBBBBB2222222CCCCCCCCCCCCCCCC3333333DDDDDDDDDDDDDDDDD!
    00000000000000AAAAAAAAAAAAAAA11111111BBBBBBBBBBBBBBB22222222CCCCCCCCCCCCCCC33333333DDDDDDDDDDDDDDDDD
    00000000000000AAAAAAAAAAAAAA111111111BBBBBBBBBBBBBB222222222CCCCCCCCCCCCCC333333333DDDDDDDDDDDDDDDD!
    000000000000000AAAAAAAAAAAAA1111111111BBBBBBBBBBBBB2222222222CCCCCCCCCCCCC3333333333DDDDDDDDDDDDDDDD
    000000000000000AAAAAAAAAAAA11111111111BBBBBBBBBBBB22222222222CCCCCCCCCCCC33333333333DDDDDDDDDDDDDDD!
    0000000000000000AAAAAAAAAAA111111111111BBBBBBBBBBB222222222222CCCCCCCCCCC333333333333DDDDDDDDDDDDDDD
    0000000000000000AAAAAAAAAA1111111111111BBBBBBBBBB2222222222222CCCCCCCCCC3333333333333DDDDDDDDDDDDDD!
    00000000000000000AAAAAAAAA11111111111111BBBBBBBBB22222222222222CCCCCCCCC33333333333333DDDDDDDDDDDDDD
    00000000000000000AAAAAAAA111111111111111BBBBBBBB222222222222222CCCCCCCC333333333333333DDDDDDDDDDDDD!
    000000000000000000AAAAAAA1111111111111111BBBBBBB2222222222222222CCCCCCC3333333333333333DDDDDDDDDDDDD
    000000000000000000AAAAAA11111111111111111BBBBBB22222222222222222CCCCCC33333333333333333DDDDDDDDDDDD!
    0000000000000000000AAAAA111111111111111111BBBBB222222222222222222CCCCC333333333333333333DDDDDDDDDDDD
    0000000000000000000AAAA1111111111111111111BBBB2222222222222222222CCCC3333333333333333333DDDDDDDDDDD!
    00000000000000000000AAA11111111111111111111BBB22222222222222222222CCC33333333333333333333DDDDDDDDDDD
    
    tiling for dimension j:
    00000000000AAAAAAAAAAAAAAAAAAAA111BBBBBBBBBBBBBBBBBBBB222CCCCCCCCCCCCCCCCCCCC333DDDDDDDDDDDDDDDDDDD!
    000000000000AAAAAAAAAAAAAAAAAAA1111BBBBBBBBBBBBBBBBBBB2222CCCCCCCCCCCCCCCCCCC3333DDDDDDDDDDDDDDDDDDD
    000000000000AAAAAAAAAAAAAAAAAA11111BBBBBBBBBBBBBBBBBB22222CCCCCCCCCCCCCCCCCC33333DDDDDDDDDDDDDDDDDD!
    0000000000000AAAAAAAAAAAAAAAAA111111BBBBBBBBBBBBBBBBB222222CCCCCCCCCCCCCCCCC333333DDDDDDDDDDDDDDDDDD
    0000000000000AAAAAAAAAAAAAAAA1111111BBBBBBBBBBBBBBBB2222222CCCCCCCCCCCCCCCC3333333DDDDDDDDDDDDDDDDD!
    00000000000000AAAAAAAAAAAAAAA11111111BBBBBBBBBBBBBBB22222222CCCCCCCCCCCCCCC33333333DDDDDDDDDDDDDDDDD
    00000000000000AAAAAAAAAAAAAA111111111BBBBBBBBBBBBBB222222222CCCCCCCCCCCCCC333333333DDDDDDDDDDDDDDDD!
    000000000000000AAAAAAAAAAAAA1111111111BBBBBBBBBBBBB2222222222CCCCCCCCCCCCC3333333333DDDDDDDDDDDDDDDD
    000000000000000AAAAAAAAAAAA11111111111BBBBBBBBBBBB22222222222CCCCCCCCCCCC33333333333DDDDDDDDDDDDDDD!
    0000000000000000AAAAAAAAAAA111111111111BBBBBBBBBBB222222222222CCCCCCCCCCC333333333333DDDDDDDDDDDDDDD
    0000000000000000AAAAAAAAAA1111111111111BBBBBBBBBB2222222222222CCCCCCCCCC3333333333333DDDDDDDDDDDDDD!
    00000000000000000AAAAAAAAA11111111111111BBBBBBBBB22222222222222CCCCCCCCC33333333333333DDDDDDDDDDDDDD
    00000000000000000AAAAAAAA111111111111111BBBBBBBB222222222222222CCCCCCCC333333333333333DDDDDDDDDDDDD!
    000000000000000000AAAAAAA1111111111111111BBBBBBB2222222222222222CCCCCCC3333333333333333DDDDDDDDDDDDD
    000000000000000000AAAAAA11111111111111111BBBBBB22222222222222222CCCCCC33333333333333333DDDDDDDDDDDD!
    0000000000000000000AAAAA111111111111111111BBBBB222222222222222222CCCCC333333333333333333DDDDDDDDDDDD
    0000000000000000000AAAA1111111111111111111BBBB2222222222222222222CCCC3333333333333333333DDDDDDDDDDD!
    00000000000000000000AAA11111111111111111111BBB22222222222222222222CCC33333333333333333333DDDDDDDDDDD
    
    tiling for dimension k:
    000000000001111111111122222222222333333333334444444444455555555555666666666667777777777788888888888!
    0000000000001111111111122222222222333333333334444444444455555555555666666666667777777777788888888888
    000000000000111111111112222222222233333333333444444444445555555555566666666666777777777778888888888!
    0000000000000111111111112222222222233333333333444444444445555555555566666666666777777777778888888888
    000000000000011111111111222222222223333333333344444444444555555555556666666666677777777777888888888!
    0000000000000011111111111222222222223333333333344444444444555555555556666666666677777777777888888888
    000000000000001111111111122222222222333333333334444444444455555555555666666666667777777777788888888!
    0000000000000001111111111122222222222333333333334444444444455555555555666666666667777777777788888888
    000000000000000111111111112222222222233333333333444444444445555555555566666666666777777777778888888!
    0000000000000000111111111112222222222233333333333444444444445555555555566666666666777777777778888888
    000000000000000011111111111222222222223333333333344444444444555555555556666666666677777777777888888!
    0000000000000000011111111111222222222223333333333344444444444555555555556666666666677777777777888888
    000000000000000001111111111122222222222333333333334444444444455555555555666666666667777777777788888!
    0000000000000000001111111111122222222222333333333334444444444455555555555666666666667777777777788888
    000000000000000000111111111112222222222233333333333444444444445555555555566666666666777777777778888!
    0000000000000000000111111111112222222222233333333333444444444445555555555566666666666777777777778888
    000000000000000000011111111111222222222223333333333344444444444555555555556666666666677777777777888!
    0000000000000000000011111111111222222222223333333333344444444444555555555556666666666677777777777888

## `speedup`

### Usage

    ./speedup: Calculate theoretical DRAM traffic saving.
    
    Usage: ./speedup [OPTION]
       --grid-size		-g	i,j,k			(e.g: 400,400,400)
       --tile-size		-t	it,jt,kt/kp		(e.g: 20t,20t,20t or 20t,20t,20p)
       --tile-height	-h	halfTimesteps		(e.g: 18)
       --total-timesteps	-n	timesteps		(defafult: 1000)
       --sliding-window	-w	use parallelogram sliding	(default: no)
    
    Note: Parallelogram tiling uses suffix "p", trapezoid tiling uses suffix "t".
    Note: It assumes ideal data access patterns and infinitely-fast code and cache - actual speedup is much lower.

### Example

    $ ./speedup -g 100,100,100 -t 20t,20t,20p -h 18 
    grid		0100 x 0100 x 0100
    tile		0020 x 0020 x 0020
    timesteps	1000
    main batch	0009 x 0111 = 0999 timesteps
    rem batch	0001 x 0001 = 0001 timesteps
    tiled total	40219 MBytes
    naive total	120000 MBytes
    speedup		298.4%

## `shapes`

### Usage

    $ ./shapes 
    ./shapes: Show statistics of all unique tile shapes.
    
    Usage: ./shapes [OPTION]
       --grid-size		-g	i,j,k			(e.g: 400,400,400)
       --tile-size		-t	it,jt,kt/kp		(e.g: 20t,20t,20t or 20t,20t,20p)
       --tile-height	-h	halfTimesteps		(e.g: 18)
    
    Note: Parallelogram tiling uses suffix "p", trapezoid tiling uses suffix "t".

### Example

    $ ./shapes -g 100,100,100 -t 20t,20t,20p -h 18 
    grid		0100 x 0100 x 0100
    tile		0020 x 0020 x 0020
    
    2 unique subtile shapes found.
    19 x 19 x 11	64	subtiles
    19 x 19 x 19	512	subtiles
    48000000 bytes of RAM needed if grid is stored naively
    180765696 bytes of RAM needed if overlapped tiles are stored multiple times
